!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2);var keys=__webpack_require__(5),utils=__webpack_require__(7);!function(root){function handleMessage(evt){var obj;if(evt.origin===iframe_location_hostname){try{obj=evt.data&&"string"==typeof evt.data?JSON.parse(evt.data):evt.data}catch(e){obj={},dmpBridgeConsole.warn("==> Parent window - Invalid message, JSON.parse Error : ",e)}if(obj.segs)for(var attributes=keys(obj.segs),attr=0;attr<attributes.length;attr++)if(root.localStorage)root.localStorage.setItem(attributes[attr],obj.segs[attributes[attr]]);else if(navigator.cookieEnabled){var date=new Date;date.setTime(date.getTime()+31536e6);var expires="; expires="+date.toGMTString();document.cookie=attributes[attr]+"="+obj.segs[attributes[attr]]+expires+"; path=/"}obj.remove&&document.body.removeChild(document.getElementById(obj.remove))}}function postMessage(object,iframe){var postMessageToIframe=function(iframe){iframe.contentWindow.postMessage(JSON.stringify(object),iframe_location_hostname)};iframe.contentWindow?setTimeout(function(){postMessageToIframe(iframe)},10):iframe.id===main_iframe_id&&_createIframe(main_iframe_id,iframe_location+"&id="+main_iframe_id,function(){main_iframe=document.getElementById(main_iframe_id),postMessageToIframe(main_iframe)})}function _trackData(obj){dmpBridgeConsole.debug("==> Parent window - trackData called",obj),postMessage(obj,main_iframe)}function _trackUri(uri){dmpBridgeConsole.debug("==> Parent window - trackUri called",uri);var id=_randomId("dmp_bridge_iframe"),callback=function(){postMessage({},iframe)},iframe=_createIframe(id,iframe_location+"&autoremove=true&id="+id+"&uri="+encodeURIComponent(uri),callback)}function _randomId(id){return id+"-"+Math.round(1e8*Math.random())}function _createIframe(id,uri,callback){var iframe=document.createElement("iframe");return iframe.style.height=0,iframe.height=0,iframe.style.width=0,iframe.width=0,iframe.style.border=0,iframe.frameborder=0,iframe.id=id,iframe.sandbox="allow-scripts allow-same-origin",iframe.src=uri,utils.documentReady(function(){document.body.appendChild(iframe),"function"==typeof callback&&(iframe.addEventListener?iframe.addEventListener("load",callback,!1):iframe.readyState&&(iframe.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||callback.apply(this,arguments)}))}),iframe}var _dmpBridge={callStackTrackData:[],trackData:function(){this.callStackTrackData.push(arguments)},callStackTrackUri:[],trackUri:function(){this.callStackTrackUri.push(arguments)}};root.dmpBridge=root.dmpBridge||_dmpBridge;for(var consoleEnabled=!1,kruxenvname=null,kruxcontroltagid=null,link=null,scripts=document.getElementsByTagName("script"),i=0;i<scripts.length;i++)if(scripts[i].src&&scripts[i].src.indexOf("dmp_bridge.js")>0){link=document.createElement("a"),link.href=scripts[i].src,consoleEnabled=scripts[i].getAttribute("data-console")+""=="true",kruxenvname=scripts[i].getAttribute("data-kruxenvname"),kruxcontroltagid=scripts[i].getAttribute("data-kruxcontroltagid");break}var dmpBridgeConsole=consoleEnabled?root.console:{debug:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},trace:function(){}};if(!link)return void dmpBridgeConsole.error("==> Parent window - script non trouvÃ© dans le DOM");if(!kruxenvname)return void dmpBridgeConsole.error("==> Parent window - data-kruxenvname absent de la balise script");if(!kruxcontroltagid)return void dmpBridgeConsole.error("==> Parent window - data-kruxcontroltagid absent de la balise script");var current_location_hostname=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.host,iframe_location=link.href.replace(".js",".html");iframe_location+="#console="+consoleEnabled+"&kruxenvname="+kruxenvname+"&kruxcontroltagid="+kruxcontroltagid+"&parenthostname="+current_location_hostname;var iframe_location_hostname=link.origin?link.origin:link.protocol+"//"+link.host,main_iframe_id="dmp_bridge_iframe",main_iframe=document.getElementById(main_iframe_id);if(!main_iframe){var callback=function(){if(root.dmpBridge.trackData=_trackData,_dmpBridge.callStackTrackData.length>0)for(var callTrackData;callTrackData=_dmpBridge.callStackTrackData.shift();)dmpBridgeConsole.debug("==> Parent window - trackData ready, apply awaiting call",callTrackData),root.dmpBridge.trackData.apply(this,callTrackData);if(root.dmpBridge.trackUri=_trackUri,_dmpBridge.callStackTrackUri.length>0)for(var callTrackUri;callTrackUri=_dmpBridge.callStackTrackUri.shift();)dmpBridgeConsole.debug("==> Parent window - trackUri ready, apply awaiting call",callTrackUri),root.dmpBridge.trackUri.apply(this,callTrackUri)};main_iframe=_createIframe(main_iframe_id,iframe_location+"&id="+main_iframe_id,callback),root.addEventListener?root.addEventListener("message",handleMessage,!1):root.attachEvent("onmessage",handleMessage)}}(window)},function(module,exports){window.console=window.console||{log:function(){},info:function(){},warn:function(){},error:function(){},trace:function(){}},window.console.debug=window.console.debug||window.console.log,window.console.info=window.console.info||window.console.log,window.console.warn=window.console.warn||window.console.log,window.console.error=window.console.error||window.console.log,window.console.trace=window.console.trace||window.console.log},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){(function(){function N(p,r){function q(a){if(q[a]!==w)return q[a];var c;if("bug-string-char-index"==a)c="a"!="a"[0];else if("json"==a)c=q("json-stringify")&&q("json-parse");else{var e;if("json-stringify"==a){c=r.stringify;var b="function"==typeof c&&s;if(b){(e=function(){return 1}).toJSON=e;try{b="0"===c(0)&&"0"===c(new t)&&'""'==c(new A)&&c(u)===w&&c(w)===w&&c()===w&&"1"===c(e)&&"[1]"==c([e])&&"[null]"==c([w])&&"null"==c(null)&&"[null,null,null]"==c([w,u,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[e,!0,!1,null,"\0\b\n\f\r\t"]})&&"1"===c(null,e)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new C(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new C(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new C(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new C(-1))}catch(f){b=!1}}c=b}if("json-parse"==a){if(c=r.parse,"function"==typeof c)try{if(0===c("0")&&!c(!1)){e=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var n=5==e.a.length&&1===e.a[0];if(n){try{n=!c('"\t"')}catch(d){}if(n)try{n=1!==c("01")}catch(g){}if(n)try{n=1!==c("1.")}catch(m){}}}}catch(X){n=!1}c=n}}return q[a]=!!c}p||(p=k.Object()),r||(r=k.Object());var t=p.Number||k.Number,A=p.String||k.String,H=p.Object||k.Object,C=p.Date||k.Date,G=p.SyntaxError||k.SyntaxError,K=p.TypeError||k.TypeError,L=p.Math||k.Math,I=p.JSON||k.JSON;"object"==typeof I&&I&&(r.stringify=I.stringify,r.parse=I.parse);var v,B,w,H=H.prototype,u=H.toString,s=new C(-0xc782b5b800cec);try{s=-109252==s.getUTCFullYear()&&0===s.getUTCMonth()&&1===s.getUTCDate()&&10==s.getUTCHours()&&37==s.getUTCMinutes()&&6==s.getUTCSeconds()&&708==s.getUTCMilliseconds()}catch(Q){}if(!q("json")){var D=q("bug-string-char-index");if(!s)var x=L.floor,M=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,c){return M[c]+365*(a-1970)+x((a-1969+(c=+(1<c)))/4)-x((a-1901+c)/100)+x((a-1601+c)/400)};if((v=H.hasOwnProperty)||(v=function(a){var e,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=u?v=function(a){var c=this.__proto__;return a=a in(this.__proto__=null,this),this.__proto__=c,a}:(e=c.constructor,v=function(a){var c=(this.constructor||e).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,v.call(this,a)}),B=function(a,c){var b,f,n,e=0;(b=function(){this.valueOf=0}).prototype.valueOf=0,f=new b;for(n in f)v.call(f,n)&&e++;return b=f=null,e?B=2==e?function(a,c){var f,e={},b="[object Function]"==u.call(a);for(f in a)b&&"prototype"==f||v.call(e,f)||!(e[f]=1)||!v.call(a,f)||c(f)}:function(a,c){var b,f,e="[object Function]"==u.call(a);for(b in a)e&&"prototype"==b||!v.call(a,b)||(f="constructor"===b)||c(b);(f||v.call(a,b="constructor"))&&c(b)}:(f="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),B=function(a,c){var b,e="[object Function]"==u.call(a),h=!e&&"function"!=typeof a.constructor&&F[typeof a.hasOwnProperty]&&a.hasOwnProperty||v;for(b in a)e&&"prototype"==b||!h.call(a,b)||c(b);for(e=f.length;b=f[--e];h.call(a,b)&&c(b));}),B(a,c)},!q("json-stringify")){var U={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},y=function(a,c){return("000000"+(c||0)).slice(-a)},R=function(a){for(var c='"',b=0,h=a.length,f=!D||10<h,n=f&&(D?a.split(""):a);b<h;b++){var d=a.charCodeAt(b);switch(d){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=U[d];break;default:if(32>d){c+="\\u00"+y(2,d.toString(16));break}c+=f?n[b]:a.charAt(b)}}return c+'"'},O=function(a,c,b,h,f,n,d){var g,m,k,l,p,r,s,t,q;try{g=c[a]}catch(z){}if("object"==typeof g&&g)if(m=u.call(g),"[object Date]"!=m||v.call(g,"toJSON"))"function"==typeof g.toJSON&&("[object Number]"!=m&&"[object String]"!=m&&"[object Array]"!=m||v.call(g,"toJSON"))&&(g=g.toJSON(a));else if(g>-1/0&&g<1/0){if(E){for(l=x(g/864e5),m=x(l/365.2425)+1970-1;E(m+1,0)<=l;m++);for(k=x((l-E(m,0))/30.42);E(m,k+1)<=l;k++);l=1+l-E(m,k),p=(g%864e5+864e5)%864e5,r=x(p/36e5)%24,s=x(p/6e4)%60,t=x(p/1e3)%60,p%=1e3}else m=g.getUTCFullYear(),k=g.getUTCMonth(),l=g.getUTCDate(),r=g.getUTCHours(),s=g.getUTCMinutes(),t=g.getUTCSeconds(),p=g.getUTCMilliseconds();g=(0>=m||1e4<=m?(0>m?"-":"+")+y(6,0>m?-m:m):y(4,m))+"-"+y(2,k+1)+"-"+y(2,l)+"T"+y(2,r)+":"+y(2,s)+":"+y(2,t)+"."+y(3,p)+"Z"}else g=null;if(b&&(g=b.call(c,a,g)),null===g)return"null";if(m=u.call(g),"[object Boolean]"==m)return""+g;if("[object Number]"==m)return g>-1/0&&g<1/0?""+g:"null";if("[object String]"==m)return R(""+g);if("object"==typeof g){for(a=d.length;a--;)if(d[a]===g)throw K();if(d.push(g),q=[],c=n,n+=f,"[object Array]"==m){for(k=0,a=g.length;k<a;k++)m=O(k,g,b,h,f,n,d),q.push(m===w?"null":m);a=q.length?f?"[\n"+n+q.join(",\n"+n)+"\n"+c+"]":"["+q.join(",")+"]":"[]"}else B(h||g,function(a){var c=O(a,g,b,h,f,n,d);c!==w&&q.push(R(a)+":"+(f?" ":"")+c)}),a=q.length?f?"{\n"+n+q.join(",\n"+n)+"\n"+c+"}":"{"+q.join(",")+"}":"{}";return d.pop(),a}};r.stringify=function(a,c,b){var h,f,n,d;if(F[typeof c]&&c)if("[object Function]"==(d=u.call(c)))f=c;else if("[object Array]"==d){n={};for(var l,g=0,k=c.length;g<k;l=c[g++],d=u.call(l),("[object String]"==d||"[object Number]"==d)&&(n[l]=1));}if(b)if("[object Number]"==(d=u.call(b))){if(0<(b-=b%1))for(h="",10<b&&(b=10);h.length<b;h+=" ");}else"[object String]"==d&&(h=10>=b.length?b:b.slice(0,10));return O("",(l={},l[""]=a,l),f,n,h,"",[])}}if(!q("json-parse")){var b,J,V=A.fromCharCode,W={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},l=function(){throw b=J=null,G()},z=function(){for(var e,h,f,k,d,a=J,c=a.length;b<c;)switch(d=a.charCodeAt(b)){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=D?a.charAt(b):a[b],b++,e;case 34:for(e="@",b++;b<c;)if(d=a.charCodeAt(b),32>d)l();else if(92==d)switch(d=a.charCodeAt(++b)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=W[d],b++;break;case 117:for(h=++b,f=b+4;b<f;b++)d=a.charCodeAt(b),48<=d&&57>=d||97<=d&&102>=d||65<=d&&70>=d||l();e+=V("0x"+a.slice(h,b));break;default:l()}else{if(34==d)break;for(d=a.charCodeAt(b),h=b;32<=d&&92!=d&&34!=d;)d=a.charCodeAt(++b);e+=a.slice(h,b)}if(34==a.charCodeAt(b))return b++,e;l();default:if(h=b,45==d&&(k=!0,d=a.charCodeAt(++b)),48<=d&&57>=d){for(48==d&&(d=a.charCodeAt(b+1),48<=d&&57>=d)&&l();b<c&&(d=a.charCodeAt(b),48<=d&&57>=d);b++);if(46==a.charCodeAt(b)){for(f=++b;f<c&&(d=a.charCodeAt(f),48<=d&&57>=d);f++);f==b&&l(),b=f}if(d=a.charCodeAt(b),101==d||69==d){for(d=a.charCodeAt(++b),43!=d&&45!=d||b++,f=b;f<c&&(d=a.charCodeAt(f),48<=d&&57>=d);f++);f==b&&l(),b=f}return+a.slice(h,b)}if(k&&l(),"true"==a.slice(b,b+4))return b+=4,!0;if("false"==a.slice(b,b+5))return b+=5,!1;if("null"==a.slice(b,b+4))return b+=4,null;l()}return"$"},P=function(a){var c,b;if("$"==a&&l(),"string"==typeof a){if("@"==(D?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(c=[];a=z(),"]"!=a;b||(b=!0))b&&(","==a?(a=z(),"]"==a&&l()):l()),","==a&&l(),c.push(P(a));return c}if("{"==a){for(c={};a=z(),"}"!=a;b||(b=!0))b&&(","==a?(a=z(),"}"==a&&l()):l()),","!=a&&"string"==typeof a&&"@"==(D?a.charAt(0):a[0])&&":"==z()||l(),c[a.slice(1)]=P(z());return c}l()}return a},T=function(a,b,e){e=S(a,b,e),e===w?delete a[b]:a[b]=e},S=function(a,b,e){var f,h=a[b];if("object"==typeof h&&h)if("[object Array]"==u.call(h))for(f=h.length;f--;)T(h,f,e);else B(h,function(a){T(h,a,e)});return e.call(a,b,h)};r.parse=function(a,c){var e,h;return b=0,J=""+a,e=P(z()),"$"!=z()&&l(),b=J=null,c&&"[object Function]"==u.call(c)?S((h={},h[""]=e,h),"",c):e}}}return r.runInContext=N,r}var K=__webpack_require__(4),F={"function":!0,object:!0},G=F[typeof exports]&&exports&&!exports.nodeType&&exports,k=F[typeof window]&&window||this,t=G&&F[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!t||t.global!==t&&t.window!==t&&t.self!==t||(k=t),G&&!K)N(k,G);else{var L=k.JSON,Q=k.JSON3,M=!1,A=N(k,k.JSON3={noConflict:function(){return M||(M=!0,k.JSON=L,k.JSON3=Q,L=Q=null),A}});k.JSON={parse:A.parse,stringify:A.stringify}}K&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return A}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}).call(this)}).call(exports,__webpack_require__(3)(module),function(){return this}())},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children=[],module.webpackPolyfill=1),module}},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(exports,{})},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=__webpack_require__(6),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}},keysShim=function(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys};keysShim.shim=function(){if(Object.keys){var keysWorksWithArguments=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!keysWorksWithArguments){var originalKeys=Object.keys;Object.keys=function(object){return originalKeys(isArgs(object)?slice.call(object):object)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},function(module,exports){"use strict";var toStr=Object.prototype.toString;module.exports=function(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},function(module,exports){var utils={};utils.documentReady=function(callback){var alreadyCalled=!1,completed=function(){(document.addEventListener||"load"===event.type||"complete"===document.readyState)&&(alreadyCalled||(alreadyCalled=!0,callback&&callback()))};"complete"===document.readyState?callback&&callback():document.addEventListener?(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed)):(document.attachEvent("onreadystatechange",completed),window.attachEvent("onload",completed))},module.exports=utils}]);
//# sourceMappingURL=dmp_bridge.js.map